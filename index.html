<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>宫格记事本</title>
  <link rel="stylesheet" href="./css/index.css" />
  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <script src="js/tools/tailwindcss.js"></script>
</head>

<body class="h-screen flex bg-stone-800 text-stone-100">

<!-- 新建面板的弹窗 -->
<dialog
  class="hidden size-96 flex flex-col justify-center items-center bg-stone-900/75 text-stone-100 rounded p-4 left-1/2 top-1/2 -ml-48 -mt-48 leading-8 ring ring-green-600"
  id="add-panel">

  <h1 class="leading-8 text-xl">新建面板</h1>
  <select name="" class="text-stone-100 bg-stone-700" id="">
    <!-- 选项用js自动更新 -->
  </select>

  <h2>面板命名</h2>
  <input type="text" class="title-input pl-1 text-stone-100 bg-stone-700" />
  <div class="m-4">
    <button class="close px-4 rounded bg-red-700 text-red-100">取消</button>
    <button class="create px-4 rounded bg-green-700 text-green-100">创建</button>
  </div>
</dialog>

<!-- 全局设置弹窗 -->
<dialog
  class="hidden size-96 flex flex-col justify-center items-center bg-stone-900/75 text-stone-100 rounded p-4 left-1/2 top-1/2 -ml-48 -mt-48 leading-8 ring ring-green-600"
  id="global-settings-panel">
  <h1 class="text-xl">全局设置</h1>

  <section>锁保护隐私：
    <span id="lock-state"></span>
    <button id="lock-switch" class="ring rounded">切换</button>
  </section>
  <p class="text-xs text-stone-400">
    开启隐私保护后，每次进入都是保护状态，保护状态只显示default面板，解除保护状态用ctrl+Q</p>
  <p class="text-xs text-stone-400">并且超过一分钟鼠标或者键盘不动弹，就会自动进入保护状态</p>

  <button class="close px-4 rounded bg-red-700 text-red-100">关闭界面</button>
</dialog>

<!-- 左侧栏 -->
<nav class="w-64 flex flex-col h-full p-1 bg-stone-700">
  <h3 class="flex items-center justify-center">
    <!--<img src="./favicon.ico" alt="Icon" width="30" height="30" />-->
    <span class="p-1">宫格记事本</span>
    <button class="text-green-100 bg-stone-800 ring ring-stone-600 rounded px-1 mx-1" id="add-panel-btn">➕</button>
    <button class="text-green-100 bg-stone-800 ring ring-stone-600 rounded px-1 mx-1" id="global-setting-btn">
      🔨
    </button>
  </h3>
  <div class="hidden ring ring-1 ring-green-800 bg-green-900 rounded overflow-hidden h-2 w-full" id="lock-time-box">
    <!--lock-time进度条，宽度随时被更改-->
    <div class="bg-green-700 h-full transition-all duration-1000 ease-linear" id="lock-time-bar"></div>
  </div>

  <div class="flex-1 p-1 overflow-y-auto" id="nav-content">
    <!-- 内容将会被清空，用js重写 -->
  </div>
  <aside class="leading-6 flex text-xs">
    <div class="flex-1">使用：<span class="current-cache"></span> / 5MB</div>
    <a class="px-1 mx-1 bg-stone-800 rounded cursor-pointer" target="_blank"
       href="https://github.com/Littlefean/LittleText">github</a>
    <a class="px-1 mx-1 bg-stone-800 rounded cursor-pointer" target="_blank"
       href="https://www.bilibili.com/video/BV1Hx4y1Z7ud">bilibili</a>

  </aside>
</nav>


<!-- 右侧主界面，确保main只有一个 -->
<main class="flex-1 grid">
  <!-- js 会在内部修改增加内容 textarea -->
</main>
</body>
<script src="js/tools/utils.js"></script>
<script src="js/systems/jsonStorage.js"></script>
<script src="js/service/globalData.js"></script>

<script src="js/components/NAV_LIST.js"></script>
<script src="js/components/dialog.js"></script>
<script src="js/components/dialogGlobalSettingPanel.js"></script>
<script src="js/components/dialogAddPanel.js"></script>
<script src="js/components/componentTextareaContainer.js"></script>
<script src="js/index.js"></script>
</html>
